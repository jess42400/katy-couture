{%- comment -%}
  IMAGE WITH TEXT
  Two-column layout with image and text content
{%- endcomment -%}

<section class="section">
  <div class="container">
    <div class="image-with-text {% if section.settings.image_position == 'right' %}image-with-text--reverse{% endif %}">
      <div class="image-with-text__media aspect-ratio aspect-ratio--4-5">
        {%- if section.settings.image -%}
          <img
            src="{{ section.settings.image | image_url: width: 800 }}"
            alt="{{ section.settings.image.alt | escape }}"
            loading="lazy"
            class="img-cover"
          >
        {%- else -%}
          <div style="background-color: #f0f0f0; width: 100%; height: 100%;"></div>
        {%- endif -%}
      </div>

      <div class="image-with-text__content">
        {%- if section.settings.subtitle != blank -%}
          <p class="image-with-text__subtitle">{{ section.settings.subtitle }}</p>
        {%- endif -%}

        {%- if section.settings.title != blank -%}
          <h2 class="image-with-text__title">{{ section.settings.title }}</h2>
        {%- endif -%}

        {%- if section.settings.text != blank -%}
          <div class="image-with-text__text">{{ section.settings.text }}</div>
        {%- endif -%}

        {%- if section.settings.button_label != blank -%}
          <a href="{{ section.settings.button_link }}" class="btn btn--secondary">
            {{ section.settings.button_label }}
          </a>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Image avec texte",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Position de l'image",
      "options": [
        { "value": "left", "label": "Gauche" },
        { "value": "right", "label": "Droite" }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "Contenu"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Sous-titre",
      "default": "Notre savoir-faire"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Titre",
      "default": "L'art du tissage"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Texte",
      "default": "<p>Chaque chèche est tissé à la main dans notre atelier, avec des matières naturelles sélectionnées pour leur qualité exceptionnelle.</p>"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Texte du bouton",
      "default": "En savoir plus"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Lien du bouton"
    }
  ],
  "presets": [
    {
      "name": "Image avec texte"
    }
  ]
}
{% endschema %}
