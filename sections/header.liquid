{%- comment -%}
  HEADER - Logo centré, menu split
  TRANSPARENT sur hero, SOLIDE au scroll
  Sous-menu Catalogue au hover
{%- endcomment -%}

<header class="header" data-header>
  <div class="header__inner">
    {%- comment -%} Navigation Gauche {%- endcomment -%}
    <nav class="header__nav header__nav--left">
      <a href="/pages/notre-histoire" class="header__link">Notre histoire</a>
      <a href="/pages/savoir-faire" class="header__link">Savoir-faire</a>
    </nav>

    {%- comment -%} Logo Centré {%- endcomment -%}
    <a href="/" class="header__logo">
      {%- if settings.logo -%}
        <img
          src="{{ settings.logo | image_url: width: 200 }}"
          alt="{{ shop.name }}"
          width="{{ settings.logo_width | default: 120 }}"
          height="auto"
        >
      {%- else -%}
        KATY COUTURE
      {%- endif -%}
    </a>

    {%- comment -%} Navigation Droite + Actions {%- endcomment -%}
    <nav class="header__nav header__nav--right">
      {%- comment -%} Catalogue avec sous-menu {%- endcomment -%}
      <div class="header__dropdown">
        <a href="/collections/all" class="header__link header__link--dropdown">
          Catalogue
          <svg class="header__dropdown-arrow" width="10" height="6" viewBox="0 0 10 6" fill="none">
            <path d="M1 1L5 5L9 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        </a>
        <div class="header__dropdown-menu">
          <a href="/collections/cheches-echarpes" class="header__dropdown-link">Chèches & Écharpes</a>
          <a href="/collections/sacs" class="header__dropdown-link">Sacs</a>
          <a href="/collections/chapeaux" class="header__dropdown-link">Chapeaux</a>
          <div class="header__dropdown-divider"></div>
          <a href="/collections/all" class="header__dropdown-link header__dropdown-link--all">Tout voir</a>
        </div>
      </div>

      <a href="/pages/contact" class="header__link">Contact</a>

      <div class="header__actions">
        <button class="header__action" aria-label="Rechercher" data-search-toggle>
          {% render 'icon-search' %}
        </button>
        <a href="/account" class="header__action" aria-label="Compte">
          {% render 'icon-account' %}
        </a>
        <a href="/cart" class="header__action header__action--cart" aria-label="Panier">
          {% render 'icon-cart' %}
          {%- if cart.item_count > 0 -%}
            <span class="header__cart-count" data-cart-count>{{ cart.item_count }}</span>
          {%- endif -%}
        </a>
      </div>
    </nav>

    {%- comment -%} Mobile Menu Toggle {%- endcomment -%}
    <button class="header__menu-toggle" data-menu-toggle aria-label="Menu">
      <span class="header__menu-icon">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </button>
  </div>
</header>

{%- comment -%} Mobile Menu {%- endcomment -%}
<div class="mobile-menu" data-mobile-menu data-open="false">
  <div class="mobile-menu__header">
    <a href="/" class="mobile-menu__logo">KATY COUTURE</a>
    <button class="mobile-menu__close" data-menu-close aria-label="Fermer">
      {% render 'icon-close' %}
    </button>
  </div>

  <nav class="mobile-menu__nav">
    <a href="/" class="mobile-menu__link">Accueil</a>
    <a href="/pages/notre-histoire" class="mobile-menu__link">Notre histoire</a>
    <a href="/pages/savoir-faire" class="mobile-menu__link">Savoir-faire</a>

    <div class="mobile-menu__section">
      <span class="mobile-menu__section-title">Catalogue</span>
      <a href="/collections/cheches-echarpes" class="mobile-menu__sublink">Chèches & Écharpes</a>
      <a href="/collections/sacs" class="mobile-menu__sublink">Sacs</a>
      <a href="/collections/chapeaux" class="mobile-menu__sublink">Chapeaux</a>
      <a href="/collections/all" class="mobile-menu__sublink">Tout voir</a>
    </div>

    <a href="/pages/contact" class="mobile-menu__link">Contact</a>
  </nav>

  <div class="mobile-menu__footer">
    <div class="mobile-menu__social">
      {%- if settings.social_instagram_link != blank -%}
        <a href="{{ settings.social_instagram_link }}" target="_blank" rel="noopener">{% render 'icon-instagram' %}</a>
      {%- endif -%}
      {%- if settings.social_tiktok_link != blank -%}
        <a href="{{ settings.social_tiktok_link }}" target="_blank" rel="noopener">{% render 'icon-tiktok' %}</a>
      {%- endif -%}
      {%- if settings.social_pinterest_link != blank -%}
        <a href="{{ settings.social_pinterest_link }}" target="_blank" rel="noopener">{% render 'icon-pinterest' %}</a>
      {%- endif -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "En-tête",
  "settings": []
}
{% endschema %}
