{%- comment -%}
  CONTACT FORM SECTION
{%- endcomment -%}

<section class="section">
  <div class="container">
    <header class="page__header">
      <h1 class="page__title">{{ section.settings.title | default: 'Contact' }}</h1>
      {%- if section.settings.text != blank -%}
        <p>{{ section.settings.text }}</p>
      {%- endif -%}
    </header>

    <div class="contact-form">
      {% form 'contact' %}
        {%- if form.posted_successfully? -%}
          <p class="form-success">Merci pour votre message ! Nous vous répondrons dans les plus brefs délais.</p>
        {%- endif -%}

        {%- if form.errors -%}
          <p class="form-error">{{ form.errors | default_errors }}</p>
        {%- endif -%}

        <div class="contact-form__row">
          <div class="form-group">
            <label class="form-label" for="contact-name">Nom *</label>
            <input type="text" id="contact-name" name="contact[name]" class="form-input" required>
          </div>

          <div class="form-group">
            <label class="form-label" for="contact-email">Email *</label>
            <input type="email" id="contact-email" name="contact[email]" class="form-input" required>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="contact-subject">Sujet</label>
          <input type="text" id="contact-subject" name="contact[subject]" class="form-input">
        </div>

        <div class="form-group">
          <label class="form-label" for="contact-message">Message *</label>
          <textarea id="contact-message" name="contact[body]" class="form-input" rows="6" required></textarea>
        </div>

        <button type="submit" class="btn btn--primary">Envoyer</button>
      {% endform %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Formulaire de contact",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titre",
      "default": "Contactez-nous"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Texte d'introduction",
      "default": "Une question ? N'hésitez pas à nous contacter."
    }
  ],
  "presets": [
    {
      "name": "Formulaire de contact"
    }
  ]
}
{% endschema %}
