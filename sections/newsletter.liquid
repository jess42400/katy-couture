{%- comment -%}
  NEWSLETTER SECTION
  Fond : terracotta ou vert foncé (configurable)
  Texte clair sur fond foncé
  Champ email élégant (bordure fine)
{%- endcomment -%}

<section class="newsletter" style="background-color: {{ section.settings.background_color | default: '#B87B5E' }};">
  <div class="container">
    <div class="newsletter__inner reveal">
      <h2 class="newsletter__title">{{ section.settings.title | default: "Rejoignez l'aventure" }}</h2>
      <p class="newsletter__text">{{ section.settings.text | default: 'Nouveautés, coulisses de l'atelier, ventes privées' }}</p>

      <form class="newsletter__form" action="/contact#contact_form" method="post" accept-charset="UTF-8">
        <input type="hidden" name="form_type" value="customer">
        <input type="hidden" name="utf8" value="✓">

        <div class="newsletter__field">
          <input
            type="email"
            name="contact[email]"
            class="newsletter__input"
            placeholder="{{ section.settings.placeholder | default: 'Votre adresse email' }}"
            required
            aria-label="Email"
            autocomplete="email"
          >
        </div>

        <button type="submit" class="newsletter__btn">
          {{ section.settings.button_label | default: "S'inscrire" }}
        </button>
      </form>

      {%- if section.settings.disclaimer != blank -%}
        <p class="newsletter__disclaimer">{{ section.settings.disclaimer }}</p>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Newsletter",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titre",
      "default": "Rejoignez l'aventure"
    },
    {
      "type": "text",
      "id": "text",
      "label": "Texte",
      "default": "Nouveautés, coulisses de l'atelier, ventes privées"
    },
    {
      "type": "text",
      "id": "placeholder",
      "label": "Placeholder",
      "default": "Votre adresse email"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Texte bouton",
      "default": "S'inscrire"
    },
    {
      "type": "text",
      "id": "disclaimer",
      "label": "Mention légale (optionnel)",
      "default": ""
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Couleur de fond",
      "default": "#B87B5E",
      "info": "Terracotta (#B87B5E) ou Vert forêt (#2C3E2C)"
    }
  ],
  "presets": [
    {
      "name": "Newsletter"
    }
  ]
}
{% endschema %}
